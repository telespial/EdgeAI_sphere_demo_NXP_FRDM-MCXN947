# Restore Points

This file is an **append-only index** of known-good restore points.

Source of truth:
- Use the git tags listed below to restore code quickly.
- Do not delete old entries. Prefer adding a new tag + a new entry.

## How To Restore
```bash
cd /path/to/EdgeAI_sand_demo
git fetch --tags
git checkout <TAG>
MCUX_EXAMPLES_DIR="$PWD/mcuxsdk_ws_test/mcuxsdk/examples" ./sdk_example/install_mcux_overlay.sh
ninja -C mcuxsdk_ws_test/build
WS_DIR="$PWD/mcuxsdk_ws_test" ./tools/flash_frdmmcxn947.sh
```

## Restore Points

### 2026-02-08 Golden v9 (Dune Background + Perspective Ball)
- Tag: `GOLDEN_2026-02-08_v9`
- Lock tag: `GOLDEN_LOCK_2026-02-08_v9_c45d0b6` (includes SHA in name; do not move)
- Commit: `c45d0b6ba824a5714d79b1449e1fc22268d29758`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: dune background behind tilt-controlled silver ball; ball radius scales with y-position for a simple perspective cue. (Known quirk at this revision: when the ball shrinks, edge contact feels offset.)
- Notes: this is the revision referenced by the “ball moves away from edge as ball gets smaller” report.

### 2026-02-08 Boot Title + Auto-Paint (No Black Boot)
- Tag: `milestone_boot_title_autopaint_v1`
- Commit: `444417658fc5d732eba156eb9282ea97acd2d26d`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: on boot, draws a large centered 3D title; then the ball autonomously rolls a serpentine pattern to paint the dune across the full screen; then hands control to the tilt sensor for normal operation.
- Notes: keep `GOLDEN_2026-02-08_v9` as the rollback anchor even if this entry becomes the preferred boot experience.

### 2026-02-08 Rescue (Working Raster Fallback)
- Tag: `RESCUE_working_raster_5d569d4`
- Also: `GOLDEN_2026-02-08_v9_raster_prev`, `milestone_raster_flicker_npu_v9`
- Commit: `5d569d4352fc723f6d6d567dcdd3c46f58025fd4`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: known-good tilt-controlled silver ball with shadow + trails (raster renderer, no dune background).
- Notes: use this if dune background builds hang or the ball disappears; treat the full SHA above as the source of truth.

### 2026-02-08 Environment Walls + Axes (Background Preserved)
- Tag: `milestone_env_walls_axes_v1`
- Commit: `bcdd905e277369efb180a5554b32668e071853c3`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: adds a clipped wireframe “room” (walls + long axes) and updates ball/shadow raster drawing to avoid wiping background lines.
- Notes: this is the restore point to return to if “ball disappears” or walls/axes stop drawing correctly.

### 2026-02-08 No Environment Lines (Ball Only)
- Tag: `milestone_no_env_lines_ball_fix_v1`
- Commit: `a22c521edb6a9f8519ab2d300f5e9b459acdf9b6`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: disables the red/green/blue axis + wall wireframe; keeps black background with the silver ball (+ trails/shadow).
- Notes: use this if the environment overlay is distracting or causes visual artifacts.

### 2026-02-08 Restore Stable (No Env Lines, UART + LCD OK)
- Tag: `milestone_restore_golden_v9_no_env_v1`
- Commit: `fd38f28410ad56ec5d5be149137a90965afde8e5`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: restored back to the stable tilt-ball + trails behavior (no env axes/walls); UART output and LCD rendering verified.
- Notes: use this if the screen goes blank or UART stops printing after experimenting.

### 2026-02-08 Dune Background From Image (Behind Ball)
- Tag: `milestone_dune_bg_v1`
- Commit: `025c2b9780c1b6bca9b56f8f2ad913f3151e6d4c`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: renders a dune background derived from `downloads/sanddune.jpg` behind the ball (single-blit tile renderer).
- Notes: background data lives in `src/dune_bg.h` and is regenerated by `tools/gen_dune_bg.py`.

### 2026-02-08 Dune Background Full-Screen At Boot
- Tag: `milestone_dune_bg_fullscreen_v1`
- Commit: `461b33cbdc4fe67d7a19a15f6a4c7f48f3525b52`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: draws the dune background across the entire screen at boot, then renders ball/trails on top.
- Notes: this removes the “tile reveal” look.

### 2026-02-08 Dune “Reveals As You Roll” (Tile-Only)
- Tag: `milestone_dune_bg_tile_reveal_v1`
- Commit: `fbbf554ec4af8053bf682277255fd7f5510039f9`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: boot stays black; as the ball moves, the dune background is rendered into each dirty-rect tile and remains on-screen.
- Notes: this reverts the fullscreen boot background draw.

### 2026-02-08 Accel Bring-Up Retry + Early Boot Logs
- Tag: `milestone_accel_bringup_retry_v1`
- Commit: `8140a4a0ef7a65c3dbb089c92f0b4b298e1c4e6c`
- Hardware: FRDM-MCXN947 + PAR-LCD-S035 + Accel 4 Click (FXLS8974CF over mikroBUS/I2C)
- Behavior: initializes LCD early, prints boot banner early, retries accel WHO_AM_I for ~2s, and continues running if accel is missing (so the display doesn’t look “frozen”).
- Notes: if ball is stuck, check UART for `EDGEAI: accel ok addr=0x18` (or 0x19). If you see “not found”, reseat the clickboard / verify I2C mode.

## Template (Copy/Paste)
### YYYY-MM-DD Short Name
- Tag: `TAG_NAME`
- Commit: `FULL_SHA1`
- Hardware:
- Behavior:
- Notes:
